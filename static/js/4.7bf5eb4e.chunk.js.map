{"version":3,"sources":["components/common/FormControls/FormsControls.module.css","hoc/withAuthRedirect.js","components/Profile/MyPosts/MyPosts.module.css","utils/validators/validators.js","components/common/FormControls/FormsControls.js","components/common/FormControls/Forms-redux.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/Profileinfo.module.css","images/beachparty.jpg","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/Profileinfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","required","value","maxLengthCreator","maxLength","length","FormControl","input","meta","touched","error","children","hasError","className","css","formControl","Textarea","restProps","child","Input","maxLengthPost","maxLengthMsg","createField","placeholder","name","component","validators","text","Field","validate","AddNewPostFormRedux","reduxForm","form","handleSubmit","onSubmit","button","LoginReduxForm","type","cssForm","formSummaryError","AddMessageFormRedux","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profile","profileBanner","src","banner","alt","descriptionBlock","profileAva","photos","large","Preloader","Post","item","itembox","align","id","message","likes","MyPosts","memo","createRef","postsElements","posts","reverse","map","p","post","postBlock","values","addPost","newPostText","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/4.7bf5eb4e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__Xemx7\",\"error\":\"FormsControls_error__4coLq\",\"formSummaryError\":\"FormsControls_formSummaryError__1clvm\"};","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login/\"}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__2FGtP\",\"postBlock\":\"MyPosts_postBlock__3Tex3\",\"posts\":\"MyPosts_posts__2Wu_O\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max lenght is ${maxLength} symbols `;\r\n    return undefined;\r\n}","import React from \"react\";\r\nimport css from \"./FormsControls.module.css\"\r\n\r\nconst FormControl = ({input, meta:{touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    //Деструктуризируем инпут и пропс,\r\n    //т.к. тут уже нет инпут и пропс\r\n    return (\r\n        <div className={css.formControl + \" \" + (hasError ? css.error : \" \")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n//REST OPERATOR\r\n// достаём деструктуризацией input & meta\r\n// и оставляем всё оставшееся в пропсах\r\n// Пропсы содержат всё кроме инпута и меты\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input}{...restProps}/></FormControl>\r\n}","import {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport css from \"../../Profile/MyPosts/MyPosts.module.css\";\r\nimport cssForm from \"./FormsControls.module.css\";\r\nimport React from \"react\";\r\nimport {Input, Textarea} from \"./FormsControls\";\r\n\r\n//Валидатор не срабатывает, если он передан непосредственно в тело Field.\r\n// Необходимо обозначить валидатор в файле, как тут\r\n\r\n\r\nlet maxLengthPost = maxLengthCreator(10);\r\nlet maxLengthMsg = maxLengthCreator(20);\r\n\r\n\r\n//------- PROFILE PAGE -------\r\nconst AddNewPostForm = ({handleSubmit}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field name={\"newPostText\"} component={Textarea}\r\n                       validate={[required, maxLengthPost]}/>\r\n            </div>\r\n            <div>\r\n                <button className={css.button}> Add post</button>\r\n            </div>\r\n        </form>)\r\n}\r\n\r\n//------- LOGIN PAGE -------\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", \"email\", Input, [required], \"\", \"Login\")}\r\n            {createField(\"Password\", \"password\", Input, [required], {type: \"password\"}, \"Password\")}\r\n            {createField(null, \"rememberMe\", Input, null, {type: \"checkbox\"}, \"Remember me\")}\r\n            {error && <div className={cssForm.formSummaryError}>{error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n            <div>\r\n                <h1>Test account:\r\n                Email: free@samuraijs.com\r\n                    Password: free</h1>\r\n            </div>\r\n        </form>)\r\n}\r\n\r\n//------- MESSAGE PAGE -------\r\nconst AddMessageForm = ({handleSubmit}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name=\"newMessageBody\"\r\n                       placeholder=\"Enter your message\"\r\n                       validate={[required, maxLengthMsg]}/>\r\n            </div>\r\n            <div>\r\n                <button className={css.button}>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n//Helper - Login Page form\r\nconst createField = (placeholder, name, component, validators, props = {}, text = \"\") => (\r\n    <div> {text} <Field placeholder={placeholder} name={name} component={component} validate={validators} {...props}/></div>)\r\n\r\n//a unique name for the form\r\nexport const AddNewPostFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"})(AddNewPostForm)\r\nexport const LoginReduxForm = reduxForm({form: \"Login\"})(LoginForm)\r\nexport const AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileBanner\":\"Profileinfo_profileBanner__1uNzH\",\"profileAva\":\"Profileinfo_profileAva__MfD8e\",\"descriptionBlock\":\"Profileinfo_descriptionBlock__2Y3PJ\"};","module.exports = __webpack_public_path__ + \"static/media/beachparty.d4bc48c0.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3KMQp\",\"message\":\"Post_message__30c_x\",\"itembox\":\"Post_itembox__3aYbF\"};","import React, {useEffect, useState} from 'react';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status] );\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                    <span\r\n                        onDoubleClick={activateEditMode}>\r\n                        {props.status || \"Set status here\"}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input\r\n                    onChange={onStatusChange}\r\n                    autoFocus={true}\r\n                    onBlur={deactivateEditMode}\r\n                    value={status}\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport css from \"./Profileinfo.module.css\";\r\nimport banner from \"../../../images/beachparty.jpg\";\r\nimport Preloader from \"../../common/Preloaders/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n    return (\r\n\r\n\r\n        <div className={css.profileBanner}>\r\n            <img src={banner} alt=\" \">\r\n            </img>\r\n            <div className={css.descriptionBlock}>\r\n                <div className={css.profileAva}>\r\n                    <img src={profile.photos.large} alt=\" \"></img>\r\n                </div>\r\n                <ProfileStatusWithHooks\r\n                    status={status}\r\n                    updateStatus={updateStatus}\r\n                />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default ProfileInfo;","import React from 'react';\r\nimport css from \"./Post.module.css\"\r\n\r\nconst Post = (props) => {\r\n\r\n    return (\r\n        <div className={css.item}>\r\n            <div>\r\n                <div className={css.itembox}>\r\n                    <p>\r\n                        <img\r\n                            src=\"https://pyxis.nymag.com/v1/imgs/630/6e0/eb215ad90cd826b9e57ff505f54c5c7228-07-avatar.rsquare.w700.jpg\"\r\n                            align=\"top\" alt=\"_\"></img>\r\n                    </p>\r\n\r\n                    <div><span>Сообщение #</span> {props.id}\r\n\r\n                        <div className={css.itembox}>\r\n                            <span> Текст: </span> {props.message}\r\n                        </div>\r\n                        <div>\r\n                            <p>\r\n                                <button><span>Like</span></button>\r\n                                {props.likes}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport css from \"./MyPosts.module.css\"\r\nimport Post from \"./Post/Post\";\r\nimport {AddNewPostFormRedux} from \"../../common/FormControls/Forms-redux\";\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n    let newPostElement = React.createRef();\r\n\r\n    let postsElements =\r\n        [...props.posts]\r\n            .reverse()\r\n            .map(p =>\r\n                <Post message={p.post} likes={p.likes} id={p.id}/>)\r\n\r\n    let onAddPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={css.postBlock}>\r\n            <div>\r\n                <h3>My post</h3>\r\n            </div>\r\n            <div>\r\n                <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n            </div>\r\n            <div>\r\n                {postsElements}\r\n            </div>\r\n        </div>)\r\n});\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator, updateNewPostTextActionCreator} from \"../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nlet mapsStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nlet mapsDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapsStateToProps, mapsDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/Profileinfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n\r\n            <ProfileInfo\r\n                profile={props.profile}\r\n                status={props.status}\r\n                updateStatus={props.updateStatus}\r\n            />\r\n\r\n            <MyPostsContainer />\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        //Thunk getUserProfile from profile-reducer.js\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n            />)\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n    withRouter, withAuthRedirect)(ProfileContainer);\r\n\r\n"],"sourceRoot":""}